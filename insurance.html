<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Insurance | Support</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="page">
    <header>
      <a href="index.html" class="badge">
        ‚Üê Back to overview
      </a>
      <h1>Insurance Support</h1>
      <p class="subtitle">
        Support me in securing two full years of medical insurance and medication coverage for my mother,
        starting February 2025. Every contribution directly protects her health and stability.
      </p>
    </header>

    <section class="overall-card">
      <div class="overall-stats">
        <div class="stat-pill">
          <strong id="insurance-raised">$0</strong> raised
        </div>
        <div class="stat-pill">
          Goal: <strong id="insurance-goal" style="margin-left:4px;">$10,000</strong>
        </div>
        <div class="stat-pill" id="insurance-donors">0 supporters</div>
      </div>

      <div class="progress-wrapper">
        <div class="progress-label-row">
          <span>Insurance progress</span>
        </div>
        <div class="progress-bar">
          <div class="progress-fill" id="insurance-progress"></div>
        </div>
      </div>
    </section>

    <section>
      <h2 class="section-title">How this support helps</h2>
      <p class="section-subtitle">
        This fund covers two years of health insurance and essential medication for my mother.
        Your contribution ensures:
      </p>

      <ul class="footer-note" style="line-height:1.6; margin-top:8px;">
        <li>‚úî Full medical insurance coverage for 2025</li>
        <li>‚úî Full medical insurance coverage for 2026</li>
        <li>‚úî Access to essential medication</li>
        <li>‚úî Emergency medical protection</li>
      </ul>

      <p class="footer-note" style="margin-top:14px;">
        To support this goal, choose any service or select <strong>"Support only"</strong> on the main page.
        You may also request that your contribution go <strong>directly to the insurance fund</strong>.
      </p>
    </section>
  </div>

  <script src="script.js"></script>
  <script>
    // Load Insurance (2025 + 2026) data from data.json
    async function loadPhase() {
      try {
        const res = await fetch('data.json');
        const data = await res.json();

        const p2025 = data.phases.mother2025 || {};
        const p2026 = data.phases.mother2026 || {};

        // Combine both years
        const raised = (p2025.raised || 0) + (p2026.raised || 0);
        const goal = 10000; // üî• FORCE total goal to $10,000
        const donors = (p2025.donors || 0) + (p2026.donors || 0);

        const pct = goal ? Math.min(100, Math.round((raised / goal) * 100)) : 0;

        document.getElementById('insurance-raised').textContent =
          '$' + raised.toLocaleString();
        document.getElementById('insurance-goal').textContent =
          '$' + goal.toLocaleString();
        document.getElementById('insurance-donors').textContent =
          donors + (donors === 1 ? ' supporter' : ' supporters');
        document.getElementById('insurance-progress').style.width =
          pct + '%';
      } catch (e) {
        console.error(e);
      }
    }

    document.addEventListener('DOMContentLoaded', loadPhase);
  </script>
</body>
</html>
